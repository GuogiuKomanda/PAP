<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	
	<a4j:region>
		<a4j:commandLink ajaxSingle="true" id="printPrekesLink" oncomplete="window.open('/CraftUzsakymoModulis/faces/printPrekes.xhtml','_blank')" value="Spausdinti">
		</a4j:commandLink>
 	</a4j:region>
	<rich:extendedDataTable value="#{prekeListBean.dataModel}" var="preke" id="prekeListTable">

		<f:facet name="header">
			<h:outputText value="Prekės" />
		</f:facet>

		<rich:column filterExpression="#{fn:containsIgnoreCase(preke.numeris,prekeListBean.numerisFilter)}" filterType="custom">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Prekės Numeris " />
					<h:inputText value="#{prekeListBean.numerisFilter}" onkeypress="check(event);">
						<a4j:ajax event="blur" render="prekeListTable" execute="@this" />
					</h:inputText>
				</h:panelGroup>
			</f:facet>
			<h:outputText value="#{preke.numeris}" />
		</rich:column>
		
		<rich:column filterExpression="#{fn:containsIgnoreCase(preke.pavadinimas,prekeListBean.pavadinimasFilter)}" filterType="custom">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Prekės Numeris " />
					<h:inputText value="#{prekeListBean.pavadinimasFilter}" onkeypress="check(event);">
						<a4j:ajax event="blur" render="prekeListTable" execute="@this" />
					</h:inputText>
				</h:panelGroup>
			</f:facet>
			<h:outputText value="#{preke.pavadinimas}" />
		</rich:column>
		
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Svoris" />
			</f:facet>
			<h:outputText value="#{preke.svorisString}" />
		</rich:column>
		
		<rich:column filterExpression="#{fn:containsIgnoreCase(preke.grupesPavadinimas,prekeListBean.grupeFilter)}" filterType="custom">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Grupės Pavadinimas " />
					<h:inputText value="#{prekeListBean.grupeFilter}" onkeypress="check(event);">
						<a4j:ajax event="blur" render="prekeListTable" execute="@this" />
					</h:inputText>
				</h:panelGroup>
			</f:facet>
			<h:outputText value="#{preke.grupesPavadinimas}" />
		</rich:column>
		
	</rich:extendedDataTable>
	
</ui:composition>